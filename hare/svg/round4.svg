<svg xmlns="http://www.w3.org/2000/svg" style="max-width:794.0472640991211px" id="mermaid-1546783802608" width="100%" viewBox="0 0 794.047 1812.559"><style>#mermaid-1546783802608 .label{font-family:trebuchet ms,verdana,arial;color:#333}#mermaid-1546783802608 .node circle,#mermaid-1546783802608 .node polygon,#mermaid-1546783802608 .node rect{fill:#ececff;stroke:#9370db;stroke-width:1px}#mermaid-1546783802608 .arrowheadPath{fill:#333}#mermaid-1546783802608 .edgePath .path{stroke:#333;stroke-width:1.5px}#mermaid-1546783802608 .edgeLabel{background-color:#e8e8e8}</style><style>#mermaid-1546783802608{color:#000;font:400 16px &quot;Times New Roman&quot;}</style><g><g class="output"><g class="edgePaths"><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead78)" d="M219.48046875,137.34375L219.48046875,162.34375L219.48046875,187.34375" class="path"/><defs><marker id="arrowhead78" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead79)" d="M252.91015625,223.57930570515958L326.3480453491211,260.34375L326.84804534912104,294.8437530517577" class="path"/><defs><marker id="arrowhead79" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead80)" d="M245.08945161503402,693.7058639685497L183.8050765991211,773.2890625L183.8050765991211,826.7890625L183.8050765991211,871.2890625L183.8050765991211,1008.4867172241211L183.8050765991211,1154.6843719482422L183.8050765991211,1208.1843719482422L183.8050765991211,1252.6843719482422L183.8050765991211,1387.5124969482422L183.8050765991211,1531.3406219482422L315.62619130586916,1671.4499969482422" class="path"/><defs><marker id="arrowhead80" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead81)" d="M340.7773383876089,690.1843864659065L412.7894515991211,773.2890625L412.7894515991211,807.2890625" class="path"/><defs><marker id="arrowhead81" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead82)" d="M379.2427677397954,1087.137689614796L349.0980453491211,1154.6843719482422L349.0980453491211,1188.6843719482422" class="path"/><defs><marker id="arrowhead82" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead83)" d="M412.7894515991211,846.2890625L412.7894515991211,871.2890625L413.28945159912115,896.789064025879" class="path"/><defs><marker id="arrowhead83" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead84)" d="M349.0980453491211,1227.6843719482422L349.0980453491211,1252.6843719482422L378.05308123795146,1313.4207423094117" class="path"/><defs><marker id="arrowhead84" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead85)" d="M458.9945690614358,1075.4792590635639L513.2816390991211,1154.6843719482422L513.2816390991211,1208.1843719482422L513.2816390991211,1252.6843719482422L460.19092140009053,1325.0858417492118" class="path"/><defs><marker id="arrowhead85" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead86)" d="M413.2894515991211,1497.8406219482424L412.7894515991211,1531.3406219482422L343.60196223097927,1671.4499969482422" class="path"/><defs><marker id="arrowhead86" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead87)" d="M307.5961124418968,438.94182014453366L290.6726531982422,491.6937561035156L291.1726531982422,526.1937591552734" class="path"/><defs><marker id="arrowhead87" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead88)" d="M386.6076182761669,398.4341740211963L641.7738265991211,491.6937561035156L641.7738265991211,632.4914093017578L641.7738265991211,773.2890625L641.7738265991211,826.7890625L641.7738265991211,871.2890625L641.7738265991211,1008.4867172241211L641.7738265991211,1154.6843719482422L641.7738265991211,1208.1843719482422L641.7738265991211,1252.6843719482422L641.7738265991211,1387.5124969482422L641.7738265991211,1531.3406219482422L361.91015625,1676.4630899978729" class="path"/><defs><marker id="arrowhead88" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead89)" d="M483.9669176534342,1427.163155893929L672.4378890991211,1531.3406219482422L672.4378890991211,1565.3406219482422" class="path"/><defs><marker id="arrowhead89" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead90)" d="M186.05078125,219.39076159189938L76.9375,260.34375L76.9375,356.5187530517578" class="path"/><defs><marker id="arrowhead90" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(-12, -12)"><path style="fill:none" marker-end="url(#arrowhead91)" d="M76.9375,395.5187530517578L76.9375,491.6937561035156L76.9375,575.5539093017578" class="path"/><defs><marker id="arrowhead91" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g></g><g class="edgeLabels"><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(326.3480453491211,260.34375) translate(-20.890625,-9)"><foreignObject width="41.781" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">Notify</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(183.8050765991211,1154.6843719482422) translate(-8,-9)"><foreignObject width="16" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">no</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(412.7894515991211,773.2890625) translate(-10.6640625,-9)"><foreignObject width="21.328" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">yes</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(349.0980453491211,1154.6843719482422) translate(-10.6640625,-9)"><foreignObject width="21.328" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">yes</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(513.2816390991211,1208.1843719482422) translate(-8,-9)"><foreignObject width="16" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">no</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(412.7894515991211,1531.3406219482422) translate(-8,-9)"><foreignObject width="16" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">no</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(290.6726531982422,491.6937561035156) translate(-10.6640625,-9)"><foreignObject width="21.328" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">yes</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(641.7738265991211,1008.4867172241211) translate(-8,-9)"><foreignObject width="16" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">no</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(672.4378890991211,1531.3406219482422) translate(-10.6640625,-9)"><foreignObject width="21.328" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">yes</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(76.9375,260.34375) translate(-44.890625,-9)"><foreignObject width="89.781" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">End of Round</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(-12, -12) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g></g><g class="nodes" transform="translate(-12, -12)"><g style="opacity:1" id="begin" class="node" transform="translate(219.48046875,78.671875)"><circle x="-58.672" y="-19.5" r="58.672"/><g class="label"><g transform="translate(0,0) translate(-48.671875,-9.5)"><foreignObject width="97.344" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Round 4 Start</div></foreignObject></g></g></g><g style="opacity:1" id="events" class="node" transform="translate(219.48046875,206.84375)"><rect width="66.859" height="39" x="-33.43" y="-19.5" rx="5" ry="5"/><g class="label"><g transform="translate(0,0) translate(-23.4296875,-9.5)"><foreignObject width="46.859" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">events</div></foreignObject></g></g></g><g style="opacity:1" id="stop" class="node" transform="translate(76.9375,632.4914093017578)"><circle x="-56.938" y="-19.5" r="56.938"/><g class="label"><g transform="translate(0,0) translate(-46.9375,-9.5)"><foreignObject width="93.875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Round 4 Stop</div></foreignObject></g></g></g><g style="opacity:1" id="valid" class="node" transform="translate(326.3480453491211,376.0187530517578)"><polygon points="81.675 0 163.35 -81.675 81.675 -163.35 0 -81.675" rx="5" ry="5" transform="translate(-81.675,81.675)"/><g class="label"><g transform="translate(0,0) translate(-61.25,-9.5)"><foreignObject width="122.5" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Validate Message</div></foreignObject></g></g></g><g style="opacity:1" id="ignore" class="node" transform="translate(333.97265625,1690.9499969482422)"><rect width="55.875" height="39" x="-27.938" y="-19.5" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-17.9375,-9.5)"><foreignObject width="35.875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Done</div></foreignObject></g></g></g><g style="opacity:1" id="dup" class="node" transform="translate(290.6726531982422,632.4914093017578)"><polygon points="106.798 0 213.595 -106.798 106.798 -213.595 0 -106.798" rx="5" ry="5" transform="translate(-106.79765625,106.79765625)"/><g class="label"><g transform="translate(0,0) translate(-89.1640625,-9.5)"><foreignObject width="178.328" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">First time seeing sender?</div></foreignObject></g></g></g><g style="opacity:1" id="upd" class="node" transform="translate(412.7894515991211,826.7890625)"><rect width="387.969" height="39" x="-193.984" y="-19.5" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-183.984375,-9.5)"><foreignObject width="367.969" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Update number of notifications counter for this set</div></foreignObject></g></g></g><g style="opacity:1" id="check" class="node" transform="translate(412.7894515991211,1008.4867172241211)"><polygon points="112.198 0 224.395 -112.198 112.198 -224.395 0 -112.198" rx="5" ry="5" transform="translate(-112.19765625000001,112.19765625000001)"/><g class="label"><g transform="translate(0,0) translate(-95.1640625,-9.5)"><foreignObject width="190.328" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Is notify.cert.K &gt;= state.Ki</div></foreignObject></g></g></g><g style="opacity:1" id="us" class="node" transform="translate(349.0980453491211,1208.1843719482422)"><rect width="133.203" height="39" x="-66.602" y="-19.5" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-56.6015625,-9.5)"><foreignObject width="113.203" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Si=S, Ci=C, Ki=K</div></foreignObject></g></g></g><g style="opacity:1" id="enough" class="node" transform="translate(412.7894515991211,1387.5124969482422)"><polygon points="109.828 0 219.656 -109.828 109.828 -219.656 0 -109.828" rx="5" ry="5" transform="translate(-109.828125,109.828125)"/><g class="label"><g transform="translate(0,0) translate(-92.53125,-9.5)"><foreignObject width="185.063" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Has f+1 notify on this set?</div></foreignObject></g></g></g><g style="opacity:1" id="endc" class="node" transform="translate(672.4378890991211,1690.9499969482422)"><circle x="-125.609" y="-19.5" r="125.609"/><g class="label"><g transform="translate(0,0) translate(-115.609375,-9.5)"><foreignObject width="231.219" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Output=Si, Terminate consensus</div></foreignObject></g></g></g><g style="opacity:1" id="next" class="node" transform="translate(76.9375,376.0187530517578)"><rect width="94.016" height="39" x="-47.008" y="-19.5" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-37.0078125,-9.5)"><foreignObject width="74.016" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Advance K</div></foreignObject></g></g></g></g></g></g></svg>